<!DOCTYPE html>

<html lang="en">
    <head>
        <title>This is... Julie Le Rudulier!</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <link href="styles.css" rel="stylesheet" type="text/css">
    </head>
    <body onscroll="myFunction()">
        <header>
            <nav>
                <div class="front">
                    <img src="images/homepage_banner.jpg" alt="Homepage banner" style="width:100%; filter: brightness(40%);">
                    <div class="banner-header">
                        <h1>Hello, World!</h1>
                        <div class="typewrite" data-period="2000" data-type='[ "Scroll down to visit website." ]'>
                            <span class="wrap"></span>
                        </div>
                        <script>
                            var TxtType = function(el, toRotate, period) {
                                this.toRotate = toRotate;
                                this.el = el;
                                this.loopNum = 0;
                                this.period = parseInt(period, 10) || 2000;
                                this.txt = '';
                                this.tick();
                                this.isDeleting = false;
                            };

                            TxtType.prototype.tick = function() {
                                var i = this.loopNum % this.toRotate.length;
                                var fullTxt = this.toRotate[i];

                                if (this.isDeleting) {
                                    this.txt = fullTxt.substring(0, this.txt.length - 1);
                                } else {
                                    this.txt = fullTxt.substring(0, this.txt.length + 1);
                                }

                                this.el.innerHTML = '<span class="wrap">'+this.txt+'</span>';

                                var that = this;
                                var delta = 150 - Math.random() * 100;

                                if (this.isDeleting) { delta /= 2; }

                                if (!this.isDeleting && this.txt === fullTxt) {
                                    delta = this.period;
                                    this.isDeleting = true;
                                } else if (this.isDeleting && this.txt === '') {
                                    this.isDeleting = false;
                                    this.loopNum++;
                                    delta = 500;
                                }

                                setTimeout(function() {
                                    that.tick();
                                }, delta);
                            };

                            window.onload = function() {
                                var elements = document.getElementsByClassName('typewrite');
                                for (var i=0; i<elements.length; i++) {
                                    var toRotate = elements[i].getAttribute('data-type');
                                    var period = elements[i].getAttribute('data-period');
                                    if (toRotate) {
                                    new TxtType(elements[i], JSON.parse(toRotate), period);
                                    }
                                }

                                var css = document.createElement("style");
                                css.type = "text/css";
                                css.innerHTML = ".typewrite > .wrap { border-right: 0.08em solid #fff}";
                                document.body.appendChild(css);
                            };
                        </script>
                    </div>
                </div>
                <div class="container-nav">
                    <div class="sticky" id="navbar">
                        <a href="index.html">Home</a>
                        <a href="about.html">About Me</a>
                        <a href="music.html">Music</a>
                        <a href="travels.html">Travels</a>
                    </div>
                </div>
                <script>
                    window.onscroll = function() {myFunction()};
                    var navbar = document.getElementById("navbar");
                    var sticky = navbar.offsetTop;
                    function myFunction() {
                        if (window.pageYOffset >= sticky) {
                            navbar.classList.add("sticky")
                        }
                        else {
                            navbar.classList.remove("sticky");
                        }
                    }
                </script>
                <script>
                    const checkpoint = 300;
                    window.addEventListener("scroll", () => {
                        const currentScroll = window.pageYOffset;
                        if (currentScroll <= checkpoint) {
                            opacity = 1 - currentScroll / checkpoint;
                        } else {
                            opacity = 0;
                        }
                        document.querySelector(".front").style.opacity = opacity;
                    });
                </script>
            </nav>
        </header>
        <main class="content">
            <div class="content-body">
                <div class="left" style="width: 50%; float:left;">
                    <div class="typedtext" id="typedtext">
                        <script>
                            var aText = new Array(
                                "Welcome to my website!",
                                "",
                                "My name is Julie Le Rudulier.",
                                "I live in Chatou, France.",
                                "This, is the website I designed for CS50's Week 8 Problem Set 'Homepage'.",
                                "",
                                "On this website, you'll be able to learn more about me,",
                                "and what I love to do when I'm not studying Computer Science.",
                                "",
                                "// Hint: It involves Dolly Parton and tacos... ;) //",
                                "",
                                "Bienvenue!",
                                );
                            var iSpeed = 80;
                            var iIndex = 0;
                            var iArrLength = aText[0].length;
                            var iScrollAt = 20;
                            var iTextPos = 0;
                            var sContents = '';
                            var iRow;

                            function typewriter(){
                                sContents =  ' ';
                                iRow = Math.max(0, iIndex-iScrollAt);
                                var destination = document.getElementById("typedtext");
                                while ( iRow < iIndex ) {
                                    sContents += aText[iRow++] + '<br />';
                                }
                                destination.innerHTML = sContents + aText[iIndex].substring(0, iTextPos) + "_";
                                if ( iTextPos++ == iArrLength ) {
                                    iTextPos = 0;
                                    iIndex++;
                                    if ( iIndex != aText.length ) {
                                        iArrLength = aText[iIndex].length;
                                        setTimeout("typewriter()", 500);
                                    }
                                } else {
                                    setTimeout("typewriter()", iSpeed);
                                }
                            }
                        typewriter();
                        </script>
                    </div>
                </div>
                <div class="center" style="width:50%; float:left;">
                    <img class="rotate_image" src="images/jlr.jpg" alt="Me" id="img">
                </div>
                <script>
                    if (window.screen.width >= 700) {
                        window.addEventListener("scroll", function () {
                            let img = document.getElementById("img");
                            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                            img.style.opacity = 0 + scrollTop / 500;
                        });
                    };
                 </script>
            </div>
        </main>
        <div class="footer" id="footer">
            <p class="footer-text">Copyright Â© 2023 Julie Le Rudulier. All Rights Reserved.</p>
        </div>
        <script>
            if (window.screen.width >= 600) {
                const checkpoint2 = 300;
                window.addEventListener("scroll", () => {
                    const currentScroll = window.pageYOffset;
                    if (currentScroll <= checkpoint2) {
                        opacity = 0 + currentScroll / checkpoint;
                    } else {
                        opacity = 1;
                    }
                    document.querySelector(".footer").style.opacity = opacity;
                });
            }
         </script>
    </body>
</html>
